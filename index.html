<!DOCTYPE html>
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Kamil Dziedzic - Software Engineer</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/10.0.0/markdown-it.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.1/html2pdf.bundle.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.4.1/cerulean/bootstrap.min.css" />
<link rel="stylesheet" href="https://raw.githack.com/arvenil/resume/master/README.css" />
</head>
<body>
<div>
  <div class="panel panel-default">
    <div class="panel-heading">Kamil Dziedzic - Software Engineer</div>
    <div class="panel-body" id="markdown">Loading ...</div>
  </div>
</div>
<script>
var m = document.getElementById("markdown");
var md = window.markdownit();

var renderHTML = function() {
    var d = $.Deferred();

    $.get("https://raw.githubusercontent.com/arvenil/resume/master/README.md", function(data) {
        m.innerHTML = md.render(data);
        d.resolve();
    });

    return d.promise();
};

var renderPDF = function () {
    var element = document.body;
    var opt = {
       pagebreak: {
         avoid: ['h1','h2','li','blockquote','code'],
         mode: "css"
       },
       filename:     'Kamil Dziedzic - Software Engineer.pdf',
       image:        { type: 'jpeg', quality: 0.95 },
       html2canvas:  { scale: 2, useCORS: true},
       jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    html2pdf().set(opt).from(element).save();
};

renderHTML().then(renderPDF)

</script>
</body>
</html>
